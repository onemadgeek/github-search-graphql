webpackJsonp([1],{D2Qu:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),n=s("mtWM"),i=s.n(n),o={name:"github-search",data:function(){return{apiUrl:"https://api.github.com/graphql",search:"https://github.com/vuejs/vue",finalData:{},errored:!1}},mounted:function(){this.init()},computed:{repoOwnerAndName:function(){var t="",e="";if(this.search){var s=this.search.split("github.com/")[1];s||(s=this.search),t=s.split("/")[0],e=s.split("/")[1]}return{repoUser:t,repoName:e}}},methods:{init:function(){this.finalData={},this.errored=!1,this.search&&this.openCountFn()},dayagoIsoString:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Date(Date.now()-864e5*t).toISOString()},callGithub:function(t){return i.a.post(this.apiUrl,{query:t},{headers:{Authorization:"bearer c3338138b71540372dc0d0cdc8814d29fb2bed46"}}).then(function(t){return t.data.data}).catch(function(t){return t})},openCountFn:function(){var t=this,e='query { \n          repository(owner:"'+this.repoOwnerAndName.repoUser+'", name:"'+this.repoOwnerAndName.repoName+'") {\n            issues(states:OPEN) {\n              totalCount\n            }\n          }\n        }';this.callGithub(e).then(this.open24agoCountFn).catch(function(e){t.errored=!0})},dayOpenCountFn:function(t){var e='query { \n          repository(owner:"'+this.repoOwnerAndName.repoUser+'", name:"'+this.repoOwnerAndName.repoName+'") {\n            issues(states: OPEN, filterBy:{since:"'+t+'"}) {\n              totalCount\n            }\n          }\n        }';return this.callGithub(e)},open24agoCountFn:function(t){this.$set(this.finalData,"openCount",t.repository.issues.totalCount);var e=this.dayagoIsoString();this.dayOpenCountFn(e).then(this.open7dayagoCountFn)},open7dayagoCountFn:function(t){var e=this;this.$set(this.finalData,"open24agoCount",t.repository.issues.totalCount);var s=this.dayagoIsoString(7);this.dayOpenCountFn(s).then(function(t){e.$set(e.finalData,"open24agoless7dayCount",t.repository.issues.totalCount-e.finalData.open24agoCount),e.$set(e.finalData,"openmore7dayCount",e.finalData.openCount-t.repository.issues.totalCount)})}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"searchbar active",attrs:{id:"searchBar",type:"text",placeholder:"Search by github link or owner/reponame"},domProps:{value:t.search},on:{change:t.init,input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),t._m(0)]),t._v(" "),t.search&&!t.errored?[s("ul",{staticClass:"issues list"},[s("li",{staticClass:"issue-item"},[s("span",[t._v("Total number of open issues")]),t._v(" "),s("div",{staticClass:"pull-right"},[s("span",{staticClass:"issue-numbers"},[t._v(t._s(this.finalData.openCount||"..."))])])]),t._v(" "),s("li",{staticClass:"issue-item"},[s("span",[t._v("Number of open issues that were opened in the last 24 hours")]),t._v(" "),s("div",{staticClass:"pull-right"},[s("span",{staticClass:"issue-numbers"},[t._v(t._s(this.finalData.open24agoCount||"..."))])])]),t._v(" "),s("li",{staticClass:"issue-item"},[s("span",[t._v("\n          Number of open issues that were opened more than 24 hours ago but less\n          than 7 days ago\n        ")]),t._v(" "),s("div",{staticClass:"pull-right"},[s("span",{staticClass:"issue-numbers"},[t._v(t._s(this.finalData.open24agoless7dayCount||"..."))])])]),t._v(" "),s("li",{staticClass:"issue-item"},[s("span",[t._v("Number of open issues that were opened more than 7 days ago")]),t._v(" "),s("div",{staticClass:"pull-right"},[s("span",{staticClass:"issue-numbers"},[t._v(t._s(this.finalData.openmore7dayCount||"..."))])])])])]:t._e(),t._v(" "),t.errored?s("div",{staticStyle:{color:"white"}},[t._v('Please provide a valid link or search term Eg: "https://github.com/vuejs/vue" or "vuejs/vue"')]):t._e()],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"btn-search",attrs:{id:"btnSearch"}},[e("i",{staticClass:"fa fa-search"})])}]};var u=s("VU/8")(o,r,!1,function(t){s("D2Qu")},"data-v-d0aa4bfe",null).exports;a.a.config.productionTip=!1,new a.a({el:"#app",components:{App:u},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.d6be62fd00d67db978b2.js.map